---
title: 游玩设施
date: 2023-08-06 02:15
article: false
tags:
---

## 写在前面

最省事的方案应该是 ADX 了, 但是 1w+ 的价格有点接受不了,  
决定在自己的 27 寸电脑上装个简单 版 的.

参考的方案是用 [HelloworldDk/dkmaiproj: cheap maimai dx touch screen controller](https://github.com/HelloworldDk/dkmaiproj)

这个方案设计太多电子相关的内容了, 因为对这方面的知识储备几乎为 0, 所以决定好好研究一下.

### 相关资料

[Sucareto/Mai2Touch: 使用 Arduino 制作的 mai2 触摸和按键灯。](https://github.com/Sucareto/Mai2Touch)

## 开始!

先从 常见问题开始, github 上的代码没有换行, 复制到这里好看一些,.

```
1.自以为是，擅自不按照教程执行，还觉得自己很对，觉得这样不影响。如果您对mpr之类的原理不熟悉，比如不知道他是个电容触摸传感器，没有注意，然后将触摸板或模块置于金属桌子或腿上测试失败者。还有不知道电容类传感器电极相关注意事项而使用自己的错误方法连接模块和电极等。  （解决：不熟悉的按照教程来，完全复刻，不容易出问题，您认为的影响不大，可能影响很大。）    
2.使用杜邦线连接各设备，或者直接将线拧在一起来连接，将线芯跟mpr焊盘绑起来连接，如果杜邦线，连接方式不牢靠，松动，劣质，氧化严重，可能导致触摸板电极或mpr无故停止工作，数据异常。（原因：瞬间的电容值变化容易让mpr的自动适应算法无法处理，会导致mpr内部出错。而mpr数据线松动，可能导致mpr数据传输错误，或断点重启而未初始化。同时，公头杜邦线那根金属针如果直接接触电极，由于杜邦线自带塑料会让其倾斜，实际上连接会非常不稳定，只有一个似断非断的点状导电面接触脆弱的导电涂层，导致电气性能极差等）（解决：作者建议能焊接的线不要怕麻烦，全部进行焊接，实际上掌握了焊接，熟练的时候焊接比插线快。mpr引脚连接电极，mpr端焊接，另一端剥长皮打圈）  
3.电极导线触及屏幕，屏幕内走线等有可能导电，相当于手去触摸，导致电极一直处于按下状态，mpr无法识别到底手按还是没按（解决方法：走线固定好，与电极一同距离屏幕有一段距离）  
4.电极导线长度差距巨大，长的导线可能造成更大的电容值，短的导线电容值小，导致mpr电极间读数呈现一些高一些低，灵敏度设置极其复杂难以实现。（解决方法：尽量规整走线，用多长截多长，并让线间距离相等，不要过远过近，其次以较短的路径连接到mpr，可以让导线间差距缩到比较小）  
5.将mpr所有引进包括电极插到面包板再插杜邦线引出，杜邦线说过不再提，面包板内部是许多条金属片，金属片具有一定面积，会让电极间产生不必要的电容，轻则影响读数，重则无法读数。（解决方法：建议用焊接线的方法，连接所有电路，并将整个电路固定在一张不导电的板上，等效于电路悬空不受干扰。而不使用其他连接方式）  
6.尝试使用5v单片机，**mpr电源/IO电压是2.5-3.6v**，低则可能无法工作，高则可能直接烧坏mpr。目前大家能买到的mpr模块（上面仅由mpr，几个电容电阻组成）不带电压转换芯片，无法在5v下正常工作。目前没见到使用简易mpr板子配合5v单片机能正常工作的。（解决方法：使用3.3v单片机，或使用adafruit出品的mpr之类，自带电平转换，支持3.3-5v宽电压的版本。实际一片带电平转换的版本跟简易mpr的差价就超过了5v单片机跟3.3v的差价，所以还是买3.3v单片机合适）（下有常见单片机电压）   
7.不会写程序，乱改程序还觉得自己很对，自己反省。(解决方案：小台直接使用sucareto开源的版本或者我开源的版本，大台自己学一学再整或者等我发大台参数)   
8.找我问问题，指导或提issue，而不把自己改了什么东西告诉我，不按照教程做但隐瞒，我让你怎么处理你不按我要求处理，我让刷我测试程序告诉我数据你非要把程序改了再发我数据，让打狗却去逮鸡，还表现的得意洋洋，觉得自己很对，这种人再出现在我面前我直接拉黑。
9.切割导电膜误差大，两片触控区间缝隙小，可能会造成串区和数据异常。（解决方案：按照教程一步步来，打印对照纸来辅助裁切，切得缝隙间距不要一窄一宽。如果是大台一张a4打印不完，可以分多张打印，总之，尽量裁切准确，贴准确，让缝隙大小均等，避免问题）
```

## 材料清单

作者原文:

- 触摸部分
	
	- 尺寸合适的 ito 导电膜，一定要买带胶，除非你真的想好了胶怎么办。下面会有为什么要这么做的说明。
	- 一张较薄的亚克力板或者玻璃板，尺寸至少覆盖圆形屏幕区域。此处感觉玻璃容易碎，亚克力容易划花，大家自行斟酌。本人使用的一张比亚克力优秀的塑料板。
	- 较细的漆包线
	- 你超棒的手工能力
	- 透明胶带
- 屏幕部分
	
	- 一块跟你触摸板相对应的合适大小的屏幕，本教程应该不适用于小于十寸的屏幕。
- 程序和 mcu
	
	- 本人使用的 mai2touch 项目，并对其进行修改，相关链接在教程开头协议部分。
	- Arduino 或类似的开发板，我建议使用 pro micro，不建议使用使用了 ch340 串口 ic 的板子。但是我使用 pro micro 被喷过和嘲讽过.....别人说它性能太差，可是我真的喜欢。

	**mpr 最大支持电压是 3.6v，使用 5v io/vcc 的单片机十有九.八会造成 mpr 不可用，请使用 3.3v io/vcc 的单片机。大多 Leonardo，promicro 都是 5v 的，少数 3.3v 才是我们需要的，请不要买错否则白买。**

麻了, 看这个人的 攻略, 头皮发麻;
